//
// Button Variables
//

// We use these to build padding for buttons.
$btn-med: emCalc(10px) !default;
$btn-tny: emCalc(5px) !default;
$btn-sml: emCalc(7px) !default;
$btn-lrg: emCalc(15px) !default;

// We use this to control the display property.
$btn-display: inline-block !default;

// We use these to control button text styles.
$btn-txt-color: #fff !default;
$btn-txt-color-alt: #333 !default;
$btn-txt-med: emCalc(14px) !default;
$btn-txt-tny: emCalc(10px) !default;
$btn-txt-sml: emCalc(11px) !default;
$btn-txt-lrg: emCalc(17px) !default;
$btn-txt-weight: bold !default;
$btn-txt-align: center !default;

// We use these to control various hover effects.
$btn-function-factor: 10% !default;
$btn-trans-speed: .15s !default;
$btn-trans-ease: ease-in-out !default;
$btn-trans-delay: 0 !default;

// We use these to control button border styles.
$btn-brdr-width: 1px !default;
$btn-brdr-style: solid !default;
$btn-brdr-color: darken($primary-color, $btn-function-factor) !default;

// We use this to set the default radius used throughout the core.
$btn-rad: 3px !default;

// We use this to set default opacity for disabled buttons.
$btn-disabled-opacity: 0.6 !default;

//
// Button Mixins
//

// We use this mixin to create a default button base.
@mixin btn-base {
  border-style: $btn-brdr-style;
  border-width: $btn-brdr-width;
  cursor: pointer;
  display: $btn-display;
  font-family: inherit;
  font-weight: $btn-txt-weight;
  line-height: 1;
  margin: 0;
  position: relative;
  text-decoration: none;
  text-align: $btn-txt-align;
  @include transition(background, $btn-trans-speed, $btn-trans-ease, $btn-trans-delay);
}

// We use this mixin to add button size styles
@mixin btn-size($pad:$btn-med, $full-width:false) {

  // We control which padding styles come through,
  // these can be turned off by setting $pad:false
  @if $pad {
    padding-top: $pad;
    padding-right: $pad * 2;
    padding-bottom: $pad + emCalc(1px);
    padding-left: $pad * 2;
    width: auto;

    // We control the font-size based on mixin input.
    @if      $pad == $btn-med { font-size: $btn-txt-med; }
    @else if $pad == $btn-tny { font-size: $btn-txt-tny; }
    @else if $pad == $btn-sml { font-size: $btn-txt-sml; }
    @else if $pad == $btn-lrg { font-size: $btn-txt-lrg; }
    @else                     { font-size: $pad - 2; }
  }

  // We can set $full-width:true to remove side padding extend width.
  @if $full-width {
    padding-top: $pad;
    padding-right: 0px;
    padding-bottom: $pad + emCalc(1px);
    padding-left: 0px;
    width: 100%;
  }
}

// We use this mixin to add button color styles
@mixin btn-style($bg:$primary-color, $radius:false, $disabled:false) {

  // We control which background styles are used,
  // these can be removed by setting $bg:false
  @if $bg {
    background-color: $bg;
    border-color: darken($bg, $btn-function-factor);
    &:hover,
    &:focus { background-color: darken($bg, $btn-function-factor); }

    // We control the text color based on variables passed to mixin.
    @if $bg == $secondary-color {
      color: $btn-txt-color-alt;
      &:hover,
      &:focus { color: $btn-txt-color-alt; }
    }
    @else {
      color: $btn-txt-color;
      &:hover,
      &:focus { color: $btn-txt-color; }
    }
  }

  // We can set $disabled:true to create a disabled transparent button.
  @if $disabled {
    cursor: default;
    opacity: $btn-disabled-opacity;
    @include box-shadow(none);
    &:hover,
    &:focus {
      background-color: $bg;
      @include box-shadow(none); }
  }

  // We can control how much button radius us used.
  @if $radius == true { @include border-radius($btn-rad); }
  @else if $radius { @include border-radius($radius); }

}

// We use this to quickly create buttons with a single mixin. As @jaredhardy puts it, "the kitchen sink mixin"
@mixin btn($pad:$btn-med, $bg:$primary-color, $radius:false, $full-width:false, $disabled:false) {
  @include btn-base;
  @include btn-size($pad, $full-width);
  @include btn-style($bg, $radius, $disabled);
}


/* Buttons */
.button {
  @include btn-base;
  @include btn-size;
  @include btn-style;
  @include inset-shadow();

  // Button Sizes
  &.large  { @include btn-size($pad:$btn-lrg); }
  &.medium { @include btn-size; }
  &.small  { @include btn-size($pad:$btn-sml); }
  &.tiny   { @include btn-size($pad:$btn-tny); }
  &.expand { @include btn-size($pad:false, $full-width: true); }

  // Button Radii
  &.radius { @include btn-style($bg:false, $radius:true); }
  &.round  { @include btn-style($bg:false, $radius:1000px); }

  // Button Layout
  &.left-align  { text-align: left; text-indent: emCalc(12px); }
  &.right-align { text-align: right; padding-right: emCalc(12px); }

  // Button Styles
  &.secondary { @include btn-style($bg:$secondary-color); }
  &.success   { @include btn-style($bg:$success-color); }
  &.alert     { @include btn-style($bg:$alert-color); }

  // Disabled Buttons
  &.disabled, &[disabled] { @include btn-style($bg:$primary-color, $disabled:true);
    &.secondary { @include btn-style($bg:$secondary-color, $disabled:true); }
    &.success { @include btn-style($bg:$success-color, $disabled:true); }
    &.alert { @include btn-style($bg:$alert-color, $disabled:true); }
  }

}