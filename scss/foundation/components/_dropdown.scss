//
// Dropdown Variables
//
$f-dropdown-min-width: 200px !default;
$f-dropdown-height: auto !default;
$f-dropdown-max-height: none !default;
$f-dropdown-bg: #fff !default;
$f-dropdown-border-style: solid!default;
$f-dropdown-border-width: 1px!default;
$f-dropdown-border-color: #ccc!default;
$f-dropdown-margin-top: 2px !default;
$f-dropdown-triangle-size: 6px !default;
$f-dropdown-triangle-color: #fff !default;
$f-dropdown-side-offset: 10px !default;
$f-dropdown-font-size: emCalc(14px) !default;
$f-dropdown-list-padding: emCalc(5px) emCalc(10px) !default;
$f-dropdown-line-height: emCalc(18px) !default;
$f-dropdown-list-hover-bg: lighten($primary-color, 45%) !default;
$f-dropdown-content-padding: emCalc(20px) !default;
$f-dropdown-list-style: none !default;

//
// Dropdown Mixins
//

// We use this to style the dropdown container element.
@mixin dropdown-container($content:list, $triangle:true) {
  display: none;
  position: relative;
  list-style: $f-dropdown-list-style;

  @if $content == list {
    min-width: $f-dropdown-min-width;
    height: $f-dropdown-height;
    max-height: $f-dropdown-max-height;
    background: $f-dropdown-bg;
    border: $f-dropdown-border-style $f-dropdown-border-width $f-dropdown-border-color;
    font-size: $em-base;
    z-index: 99;
  }
  @else if $content == content {
    padding: $f-dropdown-content-padding;
  }

  @if $triangle {
    margin-top: $f-dropdown-margin-top;

    &:before {
      @include css-triangle($f-dropdown-triangle-size, $f-dropdown-triangle-color, bottom);
      position: absolute;
      top: -($f-dropdown-triangle-size * 2);
      left: $f-dropdown-side-offset;
      z-index: 99;
    }
    &:after {
      @include css-triangle($f-dropdown-triangle-size + 1,$f-dropdown-border-color,bottom);
      position: absolute;
      top: -(($f-dropdown-triangle-size + 1) * 2);
      left: $f-dropdown-side-offset - 1;
      z-index: 98;
    }
  }
}

// We use this to style the list elements or content inside the dropdown.
@mixin dropdown-style {
  color: $primary-color;
  font-size: $f-dropdown-font-size;
  cursor: pointer;
  padding: $f-dropdown-list-padding;
  line-height: $f-dropdown-line-height;
  margin: 0;

  &:hover,
  &:focus {
    background: $f-dropdown-list-hover-bg;
  }
}

/* Foundation Dropdowns */
.f-dropdown {
  @include dropdown-container;

  li { @include dropdown-style; }

  // You can also put custom content in these dropdowns
  &.content { @include dropdown-container(content, $triangle:false); }
}